PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "produtos" (
	"id"	INTEGER NOT NULL,
	"nome"	TEXT NOT NULL,
	"preco"	REAL NOT NULL,
	PRIMARY KEY("id" AUTOINCREMENT)
);
CREATE TABLE IF NOT EXISTS "produtos_comprados" (
	"id"	INTEGER NOT NULL,
	"usuario_id"	INTEGER NOT NULL,
	"produto_id"	INTEGER NOT NULL,
	"data"	TEXT NOT NULL,
	PRIMARY KEY("id" AUTOINCREMENT),
	FOREIGN KEY("usuario_id") REFERENCES "usuarios_backup"("id"),
	FOREIGN KEY("produto_id") REFERENCES "produtos"("id")
);
CREATE TABLE IF NOT EXISTS "usuarios"(
  id INT,
  usuario TEXT,
  senha TEXT
);
INSERT INTO usuarios VALUES(1,'usuario_teste','senha_teste');
INSERT INTO usuarios VALUES(NULL,'usuario123','senha456');
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('produtos_comprados',0);
CREATE UNIQUE INDEX usuarios_unique_usuario_senha ON "usuarios"(usuario, senha);
COMMIT;
